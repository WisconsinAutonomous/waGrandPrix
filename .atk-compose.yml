networks:
  default:
    name: wagrandprix
services:
  dev:
    build:
      args:
        APT_DEPENDENCIES: bash zsh vim git git-lfs python3-pip python3-tk
        PIP_REQUIREMENTS: wa_simulator pandas matplotlib python-can psutil twisted
          numpy>=1.19 opencv-python tornado black Pillow
        PROJECT: wagrandprix
        ROS_DISTRO: galactic
        ROS_WORKSPACE: workspace
        SCRIPTS_DIR: containers/dev/scripts
        USERHOME: /home/wagrandprix
        USERNAME: wagrandprix
        USERSHELL: bash
        USERSHELLPATH: /bin/bash
        USERSHELLPROFILE: /home/wagrandprix/.bashrc
        USER_GID: '1000'
        USER_UID: '1000'
      context: /home/wa-ecu/waGrandPrix
      dockerfile: /home/wa-ecu/.conda/envs/wa/lib/python3.9/site-packages/autonomy_toolkit/containers/config/dev/dev.dockerfile
      network: host
    container_name: wagrandprix-dev
    environment:
      DISPLAY: vnc:0.0
      NVIDIA_DRIVER_CAPABILITIES: all
      NVIDIA_VISIBLE_DEVICES: all
    hostname: wagrandprix-dev
    image: atk/wagrandprix:dev
    networks:
      default: null
    ports:
    - mode: ingress
      protocol: tcp
      published: 8888
      target: 8888
    tty: true
    volumes:
    - bind:
        create_host_path: true
      source: /home/wa-ecu/waGrandPrix
      target: /home/wagrandprix/wagrandprix
      type: bind
    working_dir: /home/wagrandprix/wagrandprix/workspace
